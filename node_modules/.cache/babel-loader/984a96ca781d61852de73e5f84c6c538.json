{"ast":null,"code":"import _slicedToArray from \"/Users/d3rickjy/Desktop/ChatApp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/d3rickjy/Desktop/ChatApp/src/App.js\";\nimport React, { useState } from 'react'; //mport logo from './logo.svg';\n\nimport './App.css';\nimport { db, useDB } from './db';\nimport NamePicker from './namepicker';\nimport { BrowserRouter, Route } from 'react-router-dom';\n\nfunction App() {\n  useEffect(() => {\n    const pathname = window.location.pathname;\n    if (pathname.length < 2) window.location.pathname = 'home';\n  }, []);\n  return React.createElement(BrowserRouter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/:room\",\n    component: Room,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }));\n}\n\nfunction Room(props) {\n  const room = props.match.params.room;\n\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        name = _useState2[0],\n        setName = _useState2[1];\n\n  const messages = useDB(room);\n  return React.createElement(\"main\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"logo-wrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"logo\",\n    alt: \"logo\",\n    src: \"https://images.coollogo.com/images/prism-large-green.png\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }), \"Chatter\"), React.createElement(NamePicker, {\n    onSave: setName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"messages\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, messages.map((m, i) => {\n    return React.createElement(\"div\", {\n      key: i,\n      className: \"message-wrap\",\n      from: m.name === name ? 'me' : 'you',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"msg-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, m.name), React.createElement(\"div\", {\n      className: \"msg-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, m.text)));\n  })), React.createElement(TextInput, {\n    onSend: text => {\n      db.send({\n        text,\n        name,\n        ts: new Date(),\n        room\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }));\n}\n\nfunction TextInput(props) {\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      text = _useState4[0],\n      setText = _useState4[1]; // normal js comment\n\n\n  return React.createElement(\"div\", {\n    className: \"text-input-wrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    value: text,\n    className: \"text-input\",\n    placeholder: \"write your message\",\n    onChange: e => setText(e.target.value),\n    onKeyPress: e => {\n      if (e.key === 'Enter') {\n        if (text) props.onSend(text);\n        setText('');\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: () => {\n      if (text) props.onSend(text);\n      setText('');\n    },\n    className: \"button\",\n    disabled: !text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"SEND\"));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/d3rickjy/Desktop/ChatApp/src/App.js"],"names":["React","useState","db","useDB","NamePicker","BrowserRouter","Route","App","useEffect","pathname","window","location","length","Room","props","room","match","params","name","setName","messages","map","m","i","text","send","ts","Date","TextInput","setText","e","target","value","key","onSend"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\n//mport logo from './logo.svg';\nimport './App.css';\nimport {db, useDB} from './db'\nimport NamePicker from './namepicker'\nimport { BrowserRouter, Route } from 'react-router-dom'\n\nfunction App(){\n  useEffect(()=>{\n    const {pathname} = window.location\n    if(pathname.length<2) window.location.pathname='home'\n  }, [])\n  return <BrowserRouter>\n    <Route path=\"/:room\" component={Room} />\n  </BrowserRouter>\n}\n\nfunction Room(props) {\n  const {room} = props.match.params\n  const [name, setName] = useState('')\n  const messages = useDB(room)\n\n  return <main>\n\n    <header>\n      <div className=\"logo-wrap\">\n        <img className=\"logo\"\n          alt=\"logo\"\n          src=\"https://images.coollogo.com/images/prism-large-green.png\" \n        />\n        Chatter\n      </div>\n      <NamePicker onSave={setName} />\n    </header>\n\n    <div className=\"messages\">\n      {messages.map((m,i)=>{\n        return <div key={i} className=\"message-wrap\"\n          from={m.name===name?'me':'you'}>\n          <div className=\"message\">\n            <div className=\"msg-name\">{m.name}</div>\n            <div className=\"msg-text\">{m.text}</div>\n          </div>\n        </div>\n      })}\n    </div>\n\n    <TextInput onSend={(text)=> {\n      db.send({\n        text, name, ts: new Date(), room\n      })\n    }} />\n    \n  </main>\n}\n\nfunction TextInput(props){\n  var [text, setText] = useState('') \n  // normal js comment\n  return <div className=\"text-input-wrap\">\n    <input \n      value={text} \n      className=\"text-input\"\n      placeholder=\"write your message\"\n      onChange={e=> setText(e.target.value)}\n      onKeyPress={e=> {\n        if(e.key==='Enter') {\n          if(text) props.onSend(text)\n          setText('')\n        }\n      }}\n    />\n    <button onClick={()=> {\n      if(text) props.onSend(text)\n      setText('')\n    }} className=\"button\"\n      disabled={!text}>\n      SEND\n    </button>\n  </div>\n}\n\n\n\nexport default App"]},"metadata":{},"sourceType":"module"}